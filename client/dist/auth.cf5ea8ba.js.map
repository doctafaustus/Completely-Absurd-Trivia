{"version":3,"sources":["utils/utils.js","scripts/auth.js"],"names":["utils","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","googleProvider","auth","GoogleAuthProvider","document","querySelector","addEventListener","logIn","logOut","onAuthStateChanged","user","console","log","localStorage","removeItem","signInWithPopup","then","result","addIfNew","catch","error","code","message","email","credential","fetch","method","headers","body","JSON","stringify","authUser","response","json","data","setItem","signOut"],"mappings":"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","file":"auth.cf5ea8ba.js","sourceRoot":"..","sourcesContent":["const utils = {\n\n  debounce(func, wait, immediate) {\n    let timeout;\n\n    return function() {\n      const context = this, args = arguments;\n\n      const later = function() {\n        timeout = null;\n        if (!immediate) func.apply(context, args);\n      };\n\n      const callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n\n      if (callNow) func.apply(context, args);\n    };\n  }\n\n  // getCookie(name) {\n  //   const nameEQ = `${name}=`;\n  //   const ca = document.cookie.split(';');\n\n  //   for (let i = 0; i < ca.length; i++) {\n  //     let c = ca[i];\n\n  //     while (c.charAt(0) === ' ') {\n  //       c = c.substring(1, c.length);\n  //     }\n\n  //     if (c.indexOf(nameEQ) === 0) {\n  //       return c.substring(nameEQ.length, c.length);\n  //     }\n  //   }\n\n  //   return null;\n  // },\n\n  // setCookie(name, value, minutes) {\n  //   let expirationFragment = '';\n\n  //   if (minutes) {\n  //     const date = new Date();\n  //     const ms = minutes * 60 * 1000;\n  //     const expiration = date.getTime() + ms;\n\n  //     date.setTime(expiration);\n  //     expirationFragment = `; expires=${date.toGMTString()}`;\n  //   }\n\n  //   document.cookie = `${name}=${value}${expirationFragment}; path=/`;\n  // },\n\n  // deleteCookie(name) {\n  //   document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`;\n  // }\n\n};\n\nexport default utils;","import utils from '../utils/utils.js';\n\n// Initialize firebase\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCPNbwrNgjrpf491e3WJwWQwnNqPJ0R7XE\",\n  authDomain: \"completely-absurd-trivia-b939b.firebaseapp.com\",\n  databaseURL: \"https://completely-absurd-trivia-b939b.firebaseio.com\",\n  projectId: \"completely-absurd-trivia-b939b\",\n  storageBucket: \"completely-absurd-trivia-b939b.appspot.com\",\n  messagingSenderId: \"882068649922\",\n  appId: \"1:882068649922:web:540a53211b1d913bf8885b\",\n  measurementId: \"G-DV7RDPVL0Q\"\n};\n\nfirebase.initializeApp(firebaseConfig);\nconst googleProvider = new firebase.auth.GoogleAuthProvider();\n\n// Log In\ndocument.querySelector('#log-in').addEventListener('click', logIn);\n\n// Log Out\ndocument.querySelector('#log-out').addEventListener('click', logOut);\n\n// Control loggedIn localStorage when user signs in/out\nfirebase.auth().onAuthStateChanged(user => {\n  if (user) {\n    console.log('logged in', user);\n  } else {\n    console.log('not logged in');\n    localStorage.removeItem('user');\n  }\n});\n\n\nfunction logIn() {\n  firebase.auth().signInWithPopup(googleProvider).then(result => {\n    const user = result.user;\n    console.log('user', user);\n    addIfNew(user);\n  }).catch(error => {\n    const { code, message, email, credential } = error;\n    console.log(`Error signing in: ${code} - ${message} - ${email} - ${credential}`);\n  });\n}\n\nfunction addIfNew(user) {\n  fetch('/api/add-if-new', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ authUser: user })\n  })\n  .then(response => response.json())\n  .then(data => {\n    console.log('/api/add-if-new response: \\n', data);\n    localStorage.setItem('user', JSON.stringify(data));\n  });\n}\n\nfunction logOut() {\n  firebase.auth().signOut().then(\n    () => {\n      console.log('Signed Out');\n    },\n    error => console.error('Sign Out Error', error)\n  );\n}\n"]}